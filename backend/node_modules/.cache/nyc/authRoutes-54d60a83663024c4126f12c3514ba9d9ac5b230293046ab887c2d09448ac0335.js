function cov_1degfnzgrb(){var path="D:\\Task Manager app\\backend\\src\\routes\\authRoutes.js";var hash="fe16ca0282bddc3d7e23d9400cc99c2504058d87";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Task Manager app\\backend\\src\\routes\\authRoutes.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:42}},"1":{start:{line:2,column:12},end:{line:2,column:35}},"2":{start:{line:3,column:13},end:{line:3,column:38}},"3":{start:{line:5,column:0},end:{line:12,column:3}},"4":{start:{line:6,column:33},end:{line:6,column:41}},"5":{start:{line:7,column:2},end:{line:7,column:87}},"6":{start:{line:7,column:30},end:{line:7,column:87}},"7":{start:{line:8,column:15},end:{line:8,column:37}},"8":{start:{line:9,column:2},end:{line:9,column:35}},"9":{start:{line:10,column:2},end:{line:10,column:20}},"10":{start:{line:11,column:2},end:{line:11,column:66}},"11":{start:{line:14,column:0},end:{line:21,column:3}},"12":{start:{line:15,column:33},end:{line:15,column:41}},"13":{start:{line:16,column:15},end:{line:16,column:47}},"14":{start:{line:17,column:2},end:{line:18,column:66}},"15":{start:{line:18,column:4},end:{line:18,column:66}},"16":{start:{line:19,column:16},end:{line:19,column:88}},"17":{start:{line:20,column:2},end:{line:20,column:22}},"18":{start:{line:23,column:0},end:{line:23,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:25},end:{line:5,column:26}},loc:{start:{line:5,column:45},end:{line:12,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:22},end:{line:14,column:23}},loc:{start:{line:14,column:42},end:{line:21,column:1}},line:14}},branchMap:{"0":{loc:{start:{line:7,column:2},end:{line:7,column:87}},type:"if",locations:[{start:{line:7,column:2},end:{line:7,column:87}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:7},"1":{loc:{start:{line:7,column:6},end:{line:7,column:28}},type:"binary-expr",locations:[{start:{line:7,column:6},end:{line:7,column:15}},{start:{line:7,column:19},end:{line:7,column:28}}],line:7},"2":{loc:{start:{line:17,column:2},end:{line:18,column:66}},type:"if",locations:[{start:{line:17,column:2},end:{line:18,column:66}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:17},"3":{loc:{start:{line:17,column:6},end:{line:17,column:55}},type:"binary-expr",locations:[{start:{line:17,column:6},end:{line:17,column:11}},{start:{line:17,column:15},end:{line:17,column:55}}],line:17}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fe16ca0282bddc3d7e23d9400cc99c2504058d87"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1degfnzgrb=function(){return actualCoverage;};}return actualCoverage;}cov_1degfnzgrb();const router=(cov_1degfnzgrb().s[0]++,require('express').Router());const jwt=(cov_1degfnzgrb().s[1]++,require('jsonwebtoken'));const User=(cov_1degfnzgrb().s[2]++,require('../models/User'));cov_1degfnzgrb().s[3]++;router.post('/register',async(req,res)=>{cov_1degfnzgrb().f[0]++;const{username,password}=(cov_1degfnzgrb().s[4]++,req.body);cov_1degfnzgrb().s[5]++;if((cov_1degfnzgrb().b[1][0]++,!username)||(cov_1degfnzgrb().b[1][1]++,!password)){cov_1degfnzgrb().b[0][0]++;cov_1degfnzgrb().s[6]++;return res.status(400).json({error:'Missing fields'});}else{cov_1degfnzgrb().b[0][1]++;}const user=(cov_1degfnzgrb().s[7]++,new User({username}));cov_1degfnzgrb().s[8]++;await user.setPassword(password);cov_1degfnzgrb().s[9]++;await user.save();cov_1degfnzgrb().s[10]++;res.status(201).json({id:user._id,username:user.username});});cov_1degfnzgrb().s[11]++;router.post('/login',async(req,res)=>{cov_1degfnzgrb().f[1]++;const{username,password}=(cov_1degfnzgrb().s[12]++,req.body);const user=(cov_1degfnzgrb().s[13]++,await User.findOne({username}));cov_1degfnzgrb().s[14]++;if((cov_1degfnzgrb().b[3][0]++,!user)||(cov_1degfnzgrb().b[3][1]++,!(await user.validatePassword(password)))){cov_1degfnzgrb().b[2][0]++;cov_1degfnzgrb().s[15]++;return res.status(401).json({error:'Invalid credentials'});}else{cov_1degfnzgrb().b[2][1]++;}const token=(cov_1degfnzgrb().s[16]++,jwt.sign({sub:user._id},process.env.JWT_SECRET,{expiresIn:'1h'}));cov_1degfnzgrb().s[17]++;res.json({token});});cov_1degfnzgrb().s[18]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWRlZ2ZuemdyYiIsImFjdHVhbENvdmVyYWdlIiwicm91dGVyIiwicyIsInJlcXVpcmUiLCJSb3V0ZXIiLCJqd3QiLCJVc2VyIiwicG9zdCIsInJlcSIsInJlcyIsImYiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsImIiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJ1c2VyIiwic2V0UGFzc3dvcmQiLCJzYXZlIiwiaWQiLCJfaWQiLCJmaW5kT25lIiwidmFsaWRhdGVQYXNzd29yZCIsInRva2VuIiwic2lnbiIsInN1YiIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImF1dGhSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgcm91dGVyID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJyk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgZmllbGRzJyB9KTtcclxuICBjb25zdCB1c2VyID0gbmV3IFVzZXIoeyB1c2VybmFtZSB9KTtcclxuICBhd2FpdCB1c2VyLnNldFBhc3N3b3JkKHBhc3N3b3JkKTtcclxuICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICByZXMuc3RhdHVzKDIwMSkuanNvbih7IGlkOiB1c2VyLl9pZCwgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoJy9sb2dpbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWUgfSk7XHJcbiAgaWYgKCF1c2VyIHx8ICEoYXdhaXQgdXNlci52YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkKSkpXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgY3JlZGVudGlhbHMnIH0pO1xyXG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBzdWI6IHVzZXIuX2lkIH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMWgnIH0pO1xyXG4gIHJlcy5qc29uKHsgdG9rZW4gfSk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6InU0RkFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLE1BQU0sRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsRUFDMUMsS0FBTSxDQUFBQyxHQUFHLEVBQUFOLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQ25DLEtBQU0sQ0FBQUcsSUFBSSxFQUFBUCxjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDLEVBQUNKLGNBQUEsR0FBQUcsQ0FBQSxNQUV2Q0QsTUFBTSxDQUFDTSxJQUFJLENBQUMsV0FBVyxDQUFFLE1BQU9DLEdBQUcsQ0FBRUMsR0FBRyxHQUFLLENBQUFWLGNBQUEsR0FBQVcsQ0FBQSxNQUMzQyxLQUFNLENBQUVDLFFBQVEsQ0FBRUMsUUFBUyxDQUFDLEVBQUFiLGNBQUEsR0FBQUcsQ0FBQSxNQUFH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