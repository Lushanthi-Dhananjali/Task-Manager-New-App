function cov_26pns6ayug(){var path="D:\\Task Manager app\\backend\\src\\middleware\\auth.js";var hash="8b09c968d6a7dc3fb2580b9a899f4703817a4bf4";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Task Manager app\\backend\\src\\middleware\\auth.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:35}},"1":{start:{line:2,column:0},end:{line:13,column:2}},"2":{start:{line:3,column:14},end:{line:3,column:45}},"3":{start:{line:4,column:16},end:{line:4,column:63}},"4":{start:{line:5,column:2},end:{line:5,column:65}},"5":{start:{line:5,column:14},end:{line:5,column:65}},"6":{start:{line:6,column:2},end:{line:12,column:3}},"7":{start:{line:7,column:20},end:{line:7,column:61}},"8":{start:{line:8,column:4},end:{line:8,column:29}},"9":{start:{line:9,column:4},end:{line:9,column:11}},"10":{start:{line:11,column:4},end:{line:11,column:53}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:17},end:{line:2,column:18}},loc:{start:{line:2,column:37},end:{line:13,column:1}},line:2}},branchMap:{"0":{loc:{start:{line:3,column:14},end:{line:3,column:45}},type:"binary-expr",locations:[{start:{line:3,column:14},end:{line:3,column:39}},{start:{line:3,column:43},end:{line:3,column:45}}],line:3},"1":{loc:{start:{line:4,column:16},end:{line:4,column:63}},type:"cond-expr",locations:[{start:{line:4,column:44},end:{line:4,column:56}},{start:{line:4,column:59},end:{line:4,column:63}}],line:4},"2":{loc:{start:{line:5,column:2},end:{line:5,column:65}},type:"if",locations:[{start:{line:5,column:2},end:{line:5,column:65}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:5}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b09c968d6a7dc3fb2580b9a899f4703817a4bf4"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_26pns6ayug=function(){return actualCoverage;};}return actualCoverage;}cov_26pns6ayug();const jwt=(cov_26pns6ayug().s[0]++,require('jsonwebtoken'));cov_26pns6ayug().s[1]++;module.exports=(req,res,next)=>{cov_26pns6ayug().f[0]++;const hdr=(cov_26pns6ayug().s[2]++,(cov_26pns6ayug().b[0][0]++,req.headers.authorization)||(cov_26pns6ayug().b[0][1]++,''));const token=(cov_26pns6ayug().s[3]++,hdr.startsWith('Bearer ')?(cov_26pns6ayug().b[1][0]++,hdr.slice(7)):(cov_26pns6ayug().b[1][1]++,null));cov_26pns6ayug().s[4]++;if(!token){cov_26pns6ayug().b[2][0]++;cov_26pns6ayug().s[5]++;return res.status(401).json({error:'No token'});}else{cov_26pns6ayug().b[2][1]++;}cov_26pns6ayug().s[6]++;try{const payload=(cov_26pns6ayug().s[7]++,jwt.verify(token,process.env.JWT_SECRET));cov_26pns6ayug().s[8]++;req.userId=payload.sub;cov_26pns6ayug().s[9]++;next();}catch{cov_26pns6ayug().s[10]++;res.status(401).json({error:'Invalid token'});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjZwbnM2YXl1ZyIsImFjdHVhbENvdmVyYWdlIiwiand0IiwicyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImYiLCJoZHIiLCJiIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0b2tlbiIsInN0YXJ0c1dpdGgiLCJzbGljZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInBheWxvYWQiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXJJZCIsInN1YiJdLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgaGRyID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbiB8fCAnJztcclxuICBjb25zdCB0b2tlbiA9IGhkci5zdGFydHNXaXRoKCdCZWFyZXIgJykgPyBoZHIuc2xpY2UoNykgOiBudWxsO1xyXG4gIGlmICghdG9rZW4pIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnTm8gdG9rZW4nIH0pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYXlsb2FkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XHJcbiAgICByZXEudXNlcklkID0gcGF5bG9hZC5zdWI7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnSW52YWxpZCB0b2tlbicgfSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJnZ0VBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFBRSxHQUFHLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQUNKLGNBQUEsR0FBQUcsQ0FBQSxNQUNwQ0UsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLENBQUVDLElBQUksR0FBSyxDQUFBVCxjQUFBLEdBQUFVLENBQUEsTUFDbkMsS0FBTSxDQUFBQyxHQUFHLEVBQUFYLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLENBQUFILGNBQUEsR0FBQVksQ0FBQSxTQUFBTCxHQUFHLENBQUNNLE9BQU8sQ0FBQ0MsYUFBYSxJQUFBZCxjQUFBLEdBQUFZLENBQUEsU0FBSSxFQUFFLEdBQzNDLEtBQU0sQ0FBQUcsS0FBSyxFQUFBZixjQUFBLEdBQUFHLENBQUEsTUFBR1EsR0FBRyxDQUFDSyxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUFoQixjQUFBLEdBQUFZLENBQUEsU0FBR0QsR0FBRyxDQUFDTSxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUFqQixjQUFBLEdBQUFZLENBQUEsU0FBRyxJQUFJLEdBQUNaLGNBQUEsR0FBQUcsQ0FBQSxNQUM5RCxHQUFJLENBQUNZLEtBQUssQ0FBRSxDQUFBZixjQUFBLEdBQUFZLENBQUEsU0FBQVosY0FBQSxHQUFBRyxDQUFBLFlBQU8sQ0FBQUssR0FBRyxDQUFDVSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFFQyxLQUFLLENBQUUsVUFBVyxDQUFDLENBQUMsRUFBQyxLQUFBcEIsY0FBQSxHQUFBWSxDQUFBLFVBQUFaLGNBQUEsR0FBQUcsQ0FBQSxNQUMvRCxHQUFJLENBQ0YsS0FBTSxDQUFBa0IsT0FBTyxFQUFBckIsY0FBQSxHQUFBRyxDQUFBLE1BQUdELEdBQUcsQ0FBQ29CLE1BQU0sQ0FBQ1AsS0FBSyxDQUFFUSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxDQUFDLEVBQUN6QixjQUFBLEdBQUFHLENBQUEsTUFDMURJLEdBQUcsQ0FBQ21CLE1BQU0sQ0FBR0wsT0FBTyxDQUFDTSxHQUFHLENBQUMzQixjQUFBLEdBQUFHLENBQUEsTUFDekJNLElBQUksQ0FBQyxDQUFDLENBQ1IsQ0FBRSxLQUFNLENBQUFULGNBQUEsR0FBQUcsQ0FBQSxPQUNOSyxHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUVDLEtBQUssQ0FBRSxlQUFnQixDQUFDLENBQUMsQ0FDbEQsQ0FDRixDQUFDIiwiaWdub3JlTGlzdCI6W119